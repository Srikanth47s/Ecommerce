<!-- Final Project Assignment {part-8}
Assignment: Build Complete Myntra Product Filter -->

<!DOCTYPE html>
<html>

<head>
    <title>Myntra Product Filter</title>
    <style>
        body {
            font-family: Arial;
            padding: 20px;
        }

        .product {
            border: 1px solid ddd;
            padding: 15px;
            margin: 10px 0;
        }

        button {
            background: blue;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            margin: 2px;
        }

        cart {
            position: fixed;
            top: 20px;
            right: 20px;
            background: ff3f6c;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
        }
    </style>
</head>

<body>
    <div id="cart">Cart: <span id="cartCount">0</span> items</div>

    <h1>Myntra Products</h1>

    <div>
        <button onclick="filterProducts('all')">All Products</button>
        <button onclick="filterProducts('under1000')">Under â‚¹1000</button>
        <button onclick="filterProducts('under2000')">Under â‚¹2000</button>
    </div>

    <div>
        <button onclick="sortProducts('lowToHigh')">Price: Low to High</button>
        <button onclick="sortProducts('highToLow')">Price: High to Low</button>
    </div>

    <div id="productList"></div>

    <script>
        let products = [
            { id: 1, name: "Cotton Shirt", price: 999, image: "ðŸ‘•", stock: 5 },
            { id: 2, name: "Denim Jeans", price: 1999, image: "ðŸ‘–", stock: 10 },
            { id: 3, name: "Running Shoes", price: 2999, image: "ðŸ‘Ÿ", stock: 7 },
            { id: 4, name: "Casual Watch", price: 1499, image: "âŒš", stock: 15 },
            { id: 5, name: "Leather Belt", price: 599, image: "ðŸ‘”", stock: 20 }
        ];

        let cart = 0;
        function applyDiscount(price) {
            return (price - (price * 0.2)).toFixed()
        }

        function displayProducts() {
            let html = ''
            products.forEach(product => {
                html += '<div>'
                html += '<h1>' + product.image + '</h1>'
                html += '<h2>' + product.name + '</h2>'
                html += '<p><del>' + product.price + '</del></p>'
                html += '<p>' + applyDiscount(product.price) + '(20% off)<p>'
                html += "<button onclick ='addToCart()'>Add to cart</button>"
                html += '</div>'
                console.log('dispaly')
                document.getElementById('productList').innerHTML = html
            })
        }
        displayProducts()

        function filterProducts(type) {
            switch (type) {
                case 'all':
                    let html1 = ''
                    products.forEach(product => {
                        html1 += '<div>'
                        html1 += '<h2>' + product.name + '(' + product.price + ')' + '</h2>'
                        html1 += '</div>'
                        document.getElementById('productList').innerHTML = html1
                    })
                    break;
                case "under1000":
                    const under1000 = products.filter(product => product.price < 1000)
                    let html2 = ''
                    under1000.forEach(product => {
                        html2 += '<div>'
                        html2 += '<h2>' + product.name + '(' + product.price + ')' + '</h2>'
                        html2 += '</div>'
                        document.getElementById('productList').innerHTML = html2
                    })
                    break;
                case "under2000":
                    const under2000 = products.filter(product => product.price < 2000)
                    let html3 = ''
                    under2000.forEach(product => {
                        html3 += '<div>'
                        html3 += '<h2>' + product.name + '(' + product.price + ')' + '</h2>'
                        html3 += '</div>'
                        document.getElementById('productList').innerHTML = html3
                    })
                    break;
            }
        }

        function sortProducts(order) {
            switch (order) {
                case 'lowToHigh':
                    const lowToHigh = products.sort((product1, product2) => product1.price - product2.price)
                    let html1 = ''
                    lowToHigh.forEach(product => {
                        html1 += '<div>'
                        html1 += '<h2>' + product.name + ' (â‚¹' + product.price + ')' + '</h2>'
                        html1 += '</div>'
                        document.getElementById('productList').innerHTML = html1
                    })
                    break;
                case 'highToLow':
                    const highToLow = products.sort((product1, product2) => product2.price - product1.price)
                    let html2 = ''
                    highToLow.forEach(product => {
                        html2 += '<div>'
                        html2 += '<h2>' + product.name + ' (â‚¹' + product.price + ')' + '</h2>'
                        html2 += '</div>'
                        document.getElementById('productList').innerHTML = html2
                    })
                    break;
            }
        }

        function addToCart(productId) {
            cart++;            
            document.getElementById('cartCount').innerHTML = cart
            window.alert("Added to cart!")
        }
    </script>
</body>

</html>